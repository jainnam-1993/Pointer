# Onboarding Flow - First-time user experience
# Run: maestro test maestro/flows/02_onboarding.yaml
#
# Tests: 4-screen onboarding flow with notification permission
# Requires: Fresh app state (clearState: true)

appId: com.dailypointer
---
- print: "→ Launching app (fresh state)"
- launchApp:
    clearState: true
- print: "  ✓ App launched with cleared state"

# === PAGE 1: The Interruption ===
- print: "→ Page 1: The Interruption"
- takeScreenshot: "onboarding_01_interruption"

# Advance through pages
- tapOn:
    text: "Continue"
    optional: true
- print: "  ✓ Page 1 complete"

# === PAGE 2: The Contrast ===
- print: "→ Page 2: The Contrast"
- takeScreenshot: "onboarding_02_contrast"

- tapOn:
    text: "Continue"
    optional: true
- print: "  ✓ Page 2 complete"

# === PAGE 3: The Simplicity ===
- print: "→ Page 3: The Simplicity"
- takeScreenshot: "onboarding_03_simplicity"

- tapOn:
    text: "Continue"
    optional: true
- print: "  ✓ Page 3 complete"

# === PAGE 4: Notifications ===
- print: "→ Page 4: Notifications"
- takeScreenshot: "onboarding_04_notifications"

# Complete onboarding (skip notifications for test)
- tapOn:
    text: "Maybe Later"
    optional: true
- tapOn:
    text: "Enable Notifications"
    optional: true
- print: "  ✓ Page 4 complete"

# Verify we reached home screen
- print: "→ Verifying home screen reached"
- takeScreenshot: "onboarding_05_complete"
- print: "  ✓ Onboarding flow complete"
