# Inquiry Session Flow - Start and interact with guided inquiry
# Run: maestro test maestro/flows/08_inquiry_session.yaml
#
# Tests: Inquiry selection, session start, phase transitions

appId: com.dailypointer
---
- launchApp
- waitForAnimationToEnd

# Skip onboarding if shown
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Maybe Later"
    optional: true

# Navigate to Inquiry tab
- tapOn:
    text: ".*Inquiry.*"
- takeScreenshot: "inquiry_01_list"

# Tap on first inquiry session (Who Am I? - free for all users)
- tapOn:
    text: ".*Who Am I.*"
- takeScreenshot: "inquiry_02_session_start"

# Wait for session to progress (Setup phase is 3 seconds)
# TODO: User decision - how long should we wait to capture the question phase?
- swipe:
    direction: UP
    duration: 100
- takeScreenshot: "inquiry_03_in_progress"

# Exit session (back or tap)
- tapOn:
    text: ".*back.*"
    optional: true
- tapOn:
    text: ".*close.*"
    optional: true
- tapOn:
    text: ".*Inquiry.*"
    optional: true

- takeScreenshot: "inquiry_04_complete"
