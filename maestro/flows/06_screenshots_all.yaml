# Screenshot Capture Flow - App Store & Documentation
# Run: maestro test maestro/flows/06_screenshots_all.yaml
#
# Purpose: Generate consistent screenshots for both platforms
# Output: maestro/screenshots/ directory
# Replaces: scripts/screenshot_test.sh, integration_test/screenshot_test.dart (for this use case)

appId: com.dailypointer
---
- print: "→ Launching app (fresh state)"
- launchApp:
    clearState: true
- print: "  ✓ App launched"

# === ONBOARDING SCREENSHOTS ===
- print: "→ Capturing onboarding"
- takeScreenshot: "store_01_onboarding"

# Complete onboarding
- print: "→ Completing onboarding"
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Maybe Later"
    optional: true
- print: "  ✓ Onboarding complete"

# === HOME SCREEN SCREENSHOTS ===
- print: "→ Capturing Home screen"
- tapOn:
    text: ".*Home.*"
- takeScreenshot: "store_02_home"

# Show pointer content
- print: "→ Capturing Home with pointing"
- tapOn:
    text: ".*next pointing.*"
    optional: true
- takeScreenshot: "store_03_home_pointing"

# === INQUIRY SCREEN ===
- print: "→ Capturing Inquiry screen"
- tapOn:
    text: ".*Inquiry.*"
- takeScreenshot: "store_04_inquiry"

# === LIBRARY SCREEN ===
- print: "→ Capturing Library screen"
- tapOn:
    text: ".*Library.*"
- takeScreenshot: "store_05_library"

# === SETTINGS SCREEN ===
- print: "→ Capturing Settings screen"
- tapOn:
    text: ".*Settings.*"
- takeScreenshot: "store_06_settings"

# Scroll for more settings
- print: "→ Capturing Settings (scrolled)"
- swipe:
    direction: DOWN
- takeScreenshot: "store_07_settings_more"

# === BACK TO HOME - FINAL STATE ===
- print: "→ Capturing final Home state"
- tapOn:
    text: ".*Home.*"
- takeScreenshot: "store_08_final"
- print: "  ✓ All store screenshots captured"
