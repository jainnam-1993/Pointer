# Navigation Flow - Core app navigation with content verification
# Run: maestro test maestro/flows/01_navigation.yaml
#
# Tests: Bottom tab navigation + content loaded verification
# Verifies: Each screen actually renders expected content, not just tab exists
#
# Note: State-controlled navigation testing is in integration_test/app_test.dart
# This flow tests black-box cross-platform navigation behavior

appId: com.dailypointer
---
- launchApp

# Skip onboarding if shown
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Maybe Later"
    optional: true

# === HOME TAB ===
- tapOn:
    text: ".*Home.*"
- waitForAnimationToEnd
- assertVisible:
    text: ".*Next.*"
- assertVisible:
    text: ".*invitation.*"
- takeScreenshot: "01_home_screen"

# === LIBRARY TAB ===
- tapOn:
    text: ".*Library.*"
- assertVisible:
    text: ".*Library.*"
- assertVisible:
    text: ".*minute read.*"
    optional: true
- takeScreenshot: "02_library_screen"

# === INQUIRY TAB ===
- tapOn:
    text: ".*Inquiry.*"
- assertVisible:
    text: ".*Inquiry.*"
- assertVisible:
    text: ".*Who Am I.*"
    optional: true
- takeScreenshot: "03_inquiry_screen"

# === SETTINGS TAB ===
- tapOn:
    text: ".*Settings.*"
- assertVisible:
    text: ".*Settings.*"
- assertVisible:
    text: ".*Notifications.*"
- takeScreenshot: "04_settings_screen"

# === RETURN TO HOME ===
- tapOn:
    text: ".*Home.*"
- waitForAnimationToEnd
- assertVisible:
    text: ".*Next.*"
- takeScreenshot: "05_home_return"
