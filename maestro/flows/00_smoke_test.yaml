# Smoke Test - Quick health check for both platforms
# Run: maestro test maestro/flows/00_smoke_test.yaml
#
# Verifies: App launches, bottom nav works, core screens load
# Duration: ~30 seconds

appId: com.dailypointer
---
# Launch with fresh state
- launchApp

# Skip onboarding if shown (actual button labels from onboarding_screen.dart)
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
# Final onboarding page: notification permission
- tapOn:
    text: "Maybe Later"
    optional: true
- tapOn:
    text: "Enable Notifications"
    optional: true

# Navigate through all tabs (accessibility labels include newlines, use regex)
- tapOn:
    text: ".*Library.*"

- tapOn:
    text: ".*Inquiry.*"

- tapOn:
    text: ".*Settings.*"

- tapOn:
    text: ".*Home.*"

# Verify we can interact with home screen
- tapOn:
    text: ".*next pointing.*"
    optional: true

- takeScreenshot: smoke_test_complete
