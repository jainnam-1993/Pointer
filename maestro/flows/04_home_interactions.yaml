# Home Screen Interactions - Core pointing experience
# Run: maestro test maestro/flows/04_home_interactions.yaml
#
# Tests: Next/Previous buttons, swipe gestures, save to favorites
# Replaces: adb_test_helper.sh tap/swipe/click commands

appId: com.dailypointer
---
- print: "→ Launching app"
- launchApp
- print: "  ✓ App launched"

# Skip onboarding if shown
- print: "→ Skipping onboarding (if shown)"
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Maybe Later"
    optional: true

# Go to home tab
- print: "→ Home tab"
- tapOn:
    text: ".*Home.*"

# === INITIAL STATE ===
- print: "→ Capturing initial state"
- takeScreenshot: "home_01_initial"

# === NEXT BUTTON ===
- print: "→ Testing next pointing button"
- tapOn:
    text: ".*next pointing.*"
    optional: true
- print: "  ✓ Next button tapped"
- takeScreenshot: "home_02_after_next"

# === SWIPE UP (Next pointing) ===
- print: "→ Testing swipe up gesture"
- swipe:
    direction: UP
    duration: 500
- print: "  ✓ Swipe up complete"
- takeScreenshot: "home_03_after_swipe_up"

# === SWIPE DOWN (Previous pointing) ===
- print: "→ Testing swipe down gesture"
- swipe:
    direction: DOWN
    duration: 500
- print: "  ✓ Swipe down complete"
- takeScreenshot: "home_04_after_swipe_down"

# === SHARE BUTTON ===
- print: "→ Testing share button"
- tapOn:
    text: ".*Share.*"
    optional: true
- print: "  ✓ Share tapped (if present)"
- takeScreenshot: "home_05_share"

# === TEACHER INFO (tap on teacher name) ===
- print: "→ Testing teacher info"
- tapOn:
    text: ".*-.*"
    optional: true
- print: "  ✓ Teacher info checked"
- takeScreenshot: "home_06_teacher"
- print: "  ✓ Home interactions complete"
