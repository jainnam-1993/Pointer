# Accessibility Audit Flow - Screen reader element verification
# Run: maestro test maestro/flows/07_accessibility_audit.yaml
#
# Purpose: Document which UI elements are accessible
# Limitation: Maestro can tap elements but can't verify semantic labels
# Note: Keep Flutter accessibility_test.dart for WCAG compliance verification
#
# This flow replaces: adb_test_helper.sh list_elements, ios_test_helper.sh list

appId: com.dailypointer
---
- print: "→ Launching app"
- launchApp
- print: "  ✓ App launched"

# Skip onboarding if shown
- print: "→ Skipping onboarding (if shown)"
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Maybe Later"
    optional: true

# === HOME SCREEN ACCESSIBILITY ===
- print: "→ Auditing Home screen accessibility"
- tapOn:
    text: ".*Home.*"
- print: "  ✓ Home elements captured"
- takeScreenshot: "a11y_01_home_elements"

# === LIBRARY ACCESSIBILITY ===
- print: "→ Auditing Library accessibility"
- tapOn:
    text: ".*Library.*"
- print: "  ✓ Library elements captured"
- takeScreenshot: "a11y_02_library_elements"

# === INQUIRY ACCESSIBILITY ===
- print: "→ Auditing Inquiry accessibility"
- tapOn:
    text: ".*Inquiry.*"
- print: "  ✓ Inquiry elements captured"
- takeScreenshot: "a11y_03_inquiry_elements"

# === SETTINGS ACCESSIBILITY ===
- print: "→ Auditing Settings accessibility"
- tapOn:
    text: ".*Settings.*"
- print: "  ✓ Settings elements captured"
- takeScreenshot: "a11y_04_settings_elements"

# Scroll through settings
- print: "→ Scrolling Settings"
- swipe:
    direction: DOWN
- print: "  ✓ Settings scrolled elements captured"
- takeScreenshot: "a11y_05_settings_scrolled"

# Back to home
- print: "→ Returning to Home"
- tapOn:
    text: ".*Home.*"
- takeScreenshot: "a11y_06_home_final"
- print: "  ✓ Accessibility audit complete"
